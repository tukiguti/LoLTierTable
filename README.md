# LoL Tier Table

League of Legendsのチャンピオンアイコンを使用したマトリクス図とティアリスト作成アプリケーション。

## 🚀 セットアップ

### 1. 依存関係のインストール
```bash
npm install
```

### 2. ローカルデータのセットアップ（推奨）
```bash
npm run setup-local
```

このコマンドは以下を実行します：
- Riot Data Dragon APIからチャンピオンメタデータを取得・保存
- チャンピオンアイコンを`public/champions/`に保存
- dragontail-15.14.1からタイルアイコンを`public/tiles/`にコピー（利用可能な場合）
- ローカルデータのマニフェストファイルを作成

### 3. バージョン指定セットアップ
```bash
# 特定バージョンでセットアップ
npm run setup-local-version 15.14.1

# または直接スクリプトを実行
node scripts/setup-local-data.js --version 15.14.1 --language en_US
```

### 4. アプリケーションの起動
```bash
npm run dev
```

## 📁 データとアイコンの保存場所

ローカルデータは以下の場所に保存されます：
- **チャンピオンデータ**: `public/data/champions.json`
- **データマニフェスト**: `public/data/manifest.json`
- **正方形アイコン**: `public/champions/{championId}.png`
- **タイルアイコン**: `public/tiles/{championId}_0.jpg`

## 🔧 利用可能なコマンド

```bash
# 開発サーバー起動
npm run dev

# ローカルデータセットアップ
npm run setup-local

# バージョン指定セットアップ
npm run setup-local-version <version>

# 従来のアイコンダウンロード
npm run download-icons

# 初期セットアップ（従来）
npm run setup

# プロダクションビルド
npm run build

# ビルドプレビュー
npm run preview
```

## 🎯 データの読み込み方式

1. **ローカルデータ優先**: `public/data/manifest.json`が存在する場合、ローカルデータを使用
2. **リモートフォールバック**: ローカルデータが無い場合、Riot Data Dragon APIから取得
3. **LocalStorageキャッシュ**: 両方失敗時の代替手段

## 💡 パフォーマンス最適化

- **ローカルデータ使用時**: 高速読み込み、完全オフライン対応
- **リモートデータ使用時**: キャッシュ機能で高速化
- **アイコン表示**: 正方形アイコンで統一された見た目

## 🔄 データの更新

新しいチャンピオンが追加された場合：
```bash
npm run setup-local
```

でデータとアイコンを再ダウンロードできます。

## 📦 バージョン管理

セットアップスクリプトは以下をサポートします：
- Data Dragonバージョン指定
- 言語設定
- 自動設定ファイル更新

## 🎮 機能

### ティアリストモード
- **カスタムティア**: S, A, B, C, Dティアでチャンピオンを分類
- **ティア編集**: ティア名と色をカスタマイズ可能
- **ティア追加/削除**: 動的にティア数を調整
- **ゴミ箱機能**: 不要なチャンピオンを削除

### マトリクスモード
- **2軸グリッド**: カスタマイズ可能な奇数サイズグリッド（5x5～19x19）
- **軸ラベル**: X軸・Y軸のラベルを自由に設定
- **中心軸表示**: 中心軸線をハイライト表示
- **アイコン中央配置**: チャンピオンアイコンを各セルの中央に配置

### 共通機能
- **統一サイドバー**: 両モードで共通のチャンピオン選択パネル
- **ドラッグ&ドロップ**: 直感的なチャンピオン配置
- **データ永続化**: ローカルストレージでの保存
- **完全オフライン対応**: インターネット接続不要
- **レスポンシブ対応**: PC・タブレット・スマートフォン対応

## 🔧 技術仕様

- **フレームワーク**: React 19 + TypeScript
- **状態管理**: Zustand
- **DnD**: @dnd-kit/core
- **ビルドツール**: Vite
- **スタイリング**: カスタムCSS（Tailwind CSS削除済み）
- **Data Dragon**: v15.14.1対応

## 💰 コスト効率

- **API呼び出し**: 0円（完全ローカル化）
- **帯域幅**: 最小限（初回セットアップのみ）
- **ホスティング**: 静的ファイルのみ